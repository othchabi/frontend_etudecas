var h=Object.defineProperty;var m=Object.getOwnPropertySymbols;var _=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var c=(l,e,t)=>e in l?h(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t,p=(l,e)=>{for(var t in e||(e={}))_.call(e,t)&&c(l,t,e[t]);if(m)for(var t of m(e))b.call(e,t)&&c(l,t,e[t]);return l};import{a as f}from"./axios.9e3aeb74.js";import{o as d,a as i,h as o,z as v,x as a,y as n,A as x,F as g,B as y,t as k}from"./vendor.63776c49.js";import{_ as w}from"./index.fc511753.js";const U={data(){return{form:{code_apogee:"",nom:"",volume_horaire_cm:"0",volume_horaire_td:"0",parcours:[]},options:[],anneeId:this.$route.params.anneeId,niveauId:this.$route.params.niveauId}},created(){this.fetchParcours()},methods:{fetchParcours(){const l=localStorage.getItem("userToken");f.get(`http://localhost:8000/api/annee-universitaire/${this.anneeId}/annee-formation/${this.niveauId}/parcours`,{headers:{Authorization:`Bearer ${l}`}}).then(e=>{console.log(e.data),this.options=e.data}).catch(e=>console.error("Erreur lors de la r\xE9cup\xE9ration des parcours de l'ann\xE9e",e))},createUE(){let l=p({},this.form);const e=`http://localhost:8000/api/annee-universitaire/${this.anneeId}/annee-formation/${this.niveauId}/ues/create`;f.post(e,l,{headers:{Authorization:`Bearer ${localStorage.getItem("userToken")}`}}).then(()=>{this.$router.push({name:"UEList"})}).catch(t=>{console.error("Erreur lors de la cr\xE9ation de l'ue :",t.response.data),alert("\xC9chec de la cr\xE9ation de l'ue. "+t.response.data.message)})}}},I={class:"flex flex-col h-screen"},E=o("h1",{class:"text-center text-5xl font-bold my-4"},"Cr\xE9er Une Nouvelle UE",-1),V={class:"flex-1 flex flex-col items-center justify-center"},B={class:"w-full max-w-6xl px-4"},C={class:"shadow-lg rounded-lg overflow-hidden p-8"},S=o("label",{for:"code_apogee",class:"block text-sm font-medium text-gray-700"},"Code Apog\xE9e",-1),q=o("label",{for:"nom",class:"block text-sm font-medium text-gray-700"},"Nom",-1),A=o("label",{for:"volume_horaire_cm",class:"block text-sm font-medium text-gray-700"},"Volume Horaire CM",-1),D=o("label",{for:"volume_horaire_td",class:"block text-sm font-medium text-gray-700"},"Volume Horaire TD",-1),M=o("label",{for:"parcours",class:"block text-sm font-medium text-gray-700"},"Parcours",-1),T=["value"],z=o("button",{type:"submit",class:"mt-4 px-4 py-2 bg-blue-500 text-white font-bold rounded hover:bg-blue-700"},"Cr\xE9er",-1);function N(l,e,t,P,s,u){return d(),i("div",I,[E,o("main",V,[o("div",B,[o("div",C,[o("form",{onSubmit:e[5]||(e[5]=v((...r)=>u.createUE&&u.createUE(...r),["prevent"])),class:"flex flex-col gap-6"},[o("div",null,[S,a(o("input",{id:"code_apogee","onUpdate:modelValue":e[0]||(e[0]=r=>s.form.code_apogee=r),type:"text",required:"",class:"mt-1 block w-full p-2 border border-gray-300 rounded-md"},null,512),[[n,s.form.code_apogee]])]),o("div",null,[q,a(o("input",{id:"nom","onUpdate:modelValue":e[1]||(e[1]=r=>s.form.nom=r),type:"text",required:"",class:"mt-1 block w-full p-2 border border-gray-300 rounded-md"},null,512),[[n,s.form.nom]])]),o("div",null,[A,a(o("input",{id:"volume_horaire_cm","onUpdate:modelValue":e[2]||(e[2]=r=>s.form.volume_horaire_cm=r),type:"number",required:"",class:"mt-1 block w-full p-2 border border-gray-300 rounded-md"},null,512),[[n,s.form.volume_horaire_cm]])]),o("div",null,[D,a(o("input",{id:"volume_horaire_td","onUpdate:modelValue":e[3]||(e[3]=r=>s.form.volume_horaire_td=r),type:"number",required:"",class:"mt-1 block w-full p-2 border border-gray-300 rounded-md"},null,512),[[n,s.form.volume_horaire_td]])]),o("div",null,[M,a(o("select",{id:"parcours","onUpdate:modelValue":e[4]||(e[4]=r=>s.form.parcours=r),multiple:"",class:"mt-1 block w-full p-2 border border-gray-300 rounded-md"},[(d(!0),i(g,null,y(s.options,r=>(d(),i("option",{key:r.id,value:r.id},k(r.nom),9,T))),128))],512),[[x,s.form.parcours]])]),z],32)])])])])}var G=w(U,[["render",N]]);export{G as default};
