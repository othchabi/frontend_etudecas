var h=Object.defineProperty,f=Object.defineProperties;var b=Object.getOwnPropertyDescriptors;var l=Object.getOwnPropertySymbols;var w=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var u=(s,t,e)=>t in s?h(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,c=(s,t)=>{for(var e in t||(t={}))w.call(t,e)&&u(s,e,t[e]);if(l)for(var e of l(t))x.call(t,e)&&u(s,e,t[e]);return s},d=(s,t)=>f(s,b(t));import{a as g}from"./axios.9e3aeb74.js";import{v as _,o as y,a as v,h as o,x as m,y as p,z as N}from"./vendor.63776c49.js";import{_ as U}from"./index.fc511753.js";const k={name:"LoginForm",data(){return{account:{username:"",password:""}}},methods:d(c({},_(["setAuth","setUserRoles","setUserFirstName","setUserLastName"])),{async loginAccount(){if(!!this.isValidForm())try{const s=await g.post("http://localhost:8000/api/login",this.account);if(s.status===200){const{token:t,roles:e,firstName:n,lastName:a}=s.data;localStorage.setItem("userToken",t),this.setAuth(!0),this.setUserRoles(e),this.setUserFirstName(n),this.setUserLastName(a),this.$router.push({name:"Dashboard"})}}catch(s){console.error("Login error:",s)}},isValidForm(){return this.account.username&&this.account.password}})},F={class:"max-w-sm mx-auto mt-10"},A={class:"mb-4"},L=o("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"text"}," Nom d'utilisateur ",-1),V={class:"mb-6"},B=o("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"password"}," Password ",-1),M=o("div",{class:"flex items-center justify-between"},[o("button",{class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit"}," Connexion ")],-1);function D(s,t,e,n,a,i){return y(),v("div",F,[o("form",{onSubmit:t[2]||(t[2]=N((...r)=>i.loginAccount&&i.loginAccount(...r),["prevent"])),class:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"},[o("div",A,[L,m(o("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>a.account.username=r),class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"username",type:"text",placeholder:"Nom d'utilisateur"},null,512),[[p,a.account.username]])]),o("div",V,[B,m(o("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>a.account.password=r),class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"password",type:"password",placeholder:"**********"},null,512),[[p,a.account.password]])]),M],32)])}var z=U(k,[["render",D]]);export{z as default};
