import{a as d}from"./axios.9e3aeb74.js";import{o as l,a,h as e,x as i,y as r,j as c,A as m,F as p,B as h,z as b,t as x}from"./vendor.63776c49.js";import{_ as f}from"./index.fc511753.js";const g={name:"RegisterForm",data(){return{items:[{id:1,name:"Enseignant"},{id:2,name:"Responsable master"},{id:3,name:"Responsable ann\xE9e"},{id:4,name:"Administrateur"}],account:{nom:"",prenom:"",username:"",email:"",password:"",roles:[]}}},methods:{async registerAccount(){if(!!this.isValidForm())try{const n=await d.post("http://localhost:8000/api/register",this.account);console.log(n.data),n.status===200&&(this.$router.push({name:"login"}),alert("Compte Cr\xE9er"))}catch(n){n.response.data.message?alert(n.response.data.message):alert(n)}},isValidEmail(n){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)},isValidForm(){return this.account.nom&&this.account.email&&this.account.username&&this.isValidEmail(this.account.email)&&this.account.password&&this.account.roles.length>0}}},y={class:"max-w-sm mx-auto mt-10"},w={class:"mb-4"},_=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"nom"}," Nom ",-1),v={key:0,class:"text-grey-500 text-xs italic"},V={class:"mb-4"},k=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"prenom"}," Pr\xE9nom ",-1),E={class:"mb-4"},N=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"username"}," Nom d'utilisateur ",-1),R={class:"mb-4"},F=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"email"}," Email ",-1),U={key:0,class:"text-grey-500 text-xs italic"},A={class:"mb-6"},B=e("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"password"}," Password ",-1),M={class:"mb-4"},C=e("label",{for:"multiselect",class:"block text-gray-700 text-sm font-bold mb-2"},"Mes Roles:",-1),P=["value"],S={key:0,class:"text-grey-500 text-xs italic"},j=e("div",{class:"flex items-center justify-between"},[e("button",{class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit"}," Inscription ")],-1);function q(n,s,z,D,o,u){return l(),a("div",y,[e("form",{onSubmit:s[6]||(s[6]=b((...t)=>u.registerAccount&&u.registerAccount(...t),["prevent"])),class:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4"},[e("div",w,[_,i(e("input",{"onUpdate:modelValue":s[0]||(s[0]=t=>o.account.nom=t),class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"nom",type:"text",placeholder:"Nom"},null,512),[[r,o.account.nom]]),o.account.nom?c("",!0):(l(),a("p",v,"Nom est requis"))]),e("div",V,[k,i(e("input",{"onUpdate:modelValue":s[1]||(s[1]=t=>o.account.prenom=t),class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"prenom",type:"text",placeholder:"Pr\xE9nom"},null,512),[[r,o.account.prenom]])]),e("div",E,[N,i(e("input",{"onUpdate:modelValue":s[2]||(s[2]=t=>o.account.username=t),class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"username",type:"text",placeholder:"Nom d'utilisateur"},null,512),[[r,o.account.username]])]),e("div",R,[F,i(e("input",{"onUpdate:modelValue":s[3]||(s[3]=t=>o.account.email=t),class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"email",type:"email",placeholder:"Email"},null,512),[[r,o.account.email]]),u.isValidEmail(o.account.email)?c("",!0):(l(),a("p",U,"Veuillez saisir une adresse email valide."))]),e("div",A,[B,i(e("input",{"onUpdate:modelValue":s[4]||(s[4]=t=>o.account.password=t),class:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline",id:"password",type:"password",placeholder:"**********"},null,512),[[r,o.account.password]])]),e("div",M,[C,i(e("select",{"onUpdate:modelValue":s[5]||(s[5]=t=>o.account.roles=t),id:"multiselect",class:"shadow border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",multiple:""},[(l(!0),a(p,null,h(o.items,t=>(l(),a("option",{key:t.id,value:t.id},x(t.name),9,P))),128))],512),[[m,o.account.roles]]),o.account.roles.length===0?(l(),a("p",S,"Le r\xF4le est requis.")):c("",!0)]),j],32)])}var G=f(g,[["render",q]]);export{G as default};
